// Copyright (c) 2015-present, salesforce.com, inc. All rights reserved
// Licensed under BSD 3-Clause - see LICENSE.txt or git.io/sfdc-license

/**
 * An image is the preferred format for an avatar
 *
 * @summary Creates a Typeahead control
 * @name base
 * @selector .nds-typeahead
 * @restrict div
 * @variant
 */

.nds-typeahead {

  .nds-form-element__control-animated-label.nds-input-has-icon {

    svg.nds-icon {
      position: absolute;
      #{$right}: 0;
      pointer-events: none;
    }

    svg.nds-icon[alt="edit"] {
      pointer-events: initial;
      cursor: pointer;
    }
  }

  // stylelint-disable-next-line selector-class-pattern
  .nds-form-element__control-animated-label.nds-input-has-icon ul.typeahead.dropdown-menu {
    overflow: auto;
    max-height: 300px;

    li a {
      display: block;
      overflow: hidden;
    }
  }

  > div.nds-grid .nds-tooltip_container {
    margin-top: 0.75rem;

    .nds-nonfocused_control {
      margin-top: 1.125rem;
      margin-#{$left}: 0.375rem;

      svg {
       background-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNCIgaGVpZ2h0PSIxNCIgdmlld0JveD0iMCAwIDE0IDE0Ij4KICA8cGF0aCBpZD0ic2VhcmNoIiBkPSJNMTUuOTIsMTQuNjEybC0zLjkxMi0zLjg2OWE1LjQ3Myw1LjQ3MywwLDEsMC0xLjIzMiwxLjI0NWwzLjg4MywzLjg3N2EuNDI0LjQyNCwwLDAsMCwuNjEzLDBsLjYxMy0uNjEyQS40ODkuNDg5LDAsMCwwLDE1LjkyLDE0LjYxMlpNNy41NDEsMTEuMjZhMy43NTUsMy43NTUsMCwxLDEsMi42NjYtMS4xLDMuNzY0LDMuNzY0LDAsMCwxLTIuNjY2LDEuMVoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0yLjAyMyAtMS45OTcpIiBmaWxsPSIjOTM5MzkzIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiLz4KPC9zdmc+Cg==");
        // fill: $color-input-icon-blue-hue;
        fill: transparent;
      }

      .nds-is-absolute .nds-popover.nds-popover_tooltip.nds-nubbin_bottom {
        #{$left}: calc(-100% - 10px);
        max-width: 30rem;
        white-space: nowrap;
        top: -1.6875rem;

        &:before,
        &:after {
          width: 1rem;
          height: 1rem;
          position: absolute;
          transform: rotate(45deg);
          content: '';
          background-color: inherit;
          #{$left}: 100%;
          bottom: 0;
          margin-#{$left}: -9px;
          top: 25%;
        }
      }
    }
  }

  .nds-form-element__control.nds-form-element__control-animated-label .nds-form-element__label {
    width: calc(100% - 2rem);

    .nds-required {
      top: -6px;
      position: relative;
    }
  }
}

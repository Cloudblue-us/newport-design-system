// Copyright (c) 2015-present, salesforce.com, inc. All rights reserved
// Licensed under BSD 3-Clause - see LICENSE.txt or git.io/sfdc-license

/**
 * An image is the preferred format for an avatar
 *
 * @summary Creates a Typeahead control
 * @name base
 * @selector .nds-typeahead
 * @restrict div
 * @variant
 */

.nds-typeahead {

  .nds-form-element__control-animated-label.nds-input-has-icon {

    svg.nds-icon {
      position: absolute;
      #{$right}: 0;
      pointer-events: none;
    }

    svg.nds-icon[alt="edit"] {
      pointer-events: initial;
      cursor: pointer;
    }
  }

  // stylelint-disable-next-line selector-class-pattern
  .nds-form-element__control-animated-label.nds-input-has-icon ul.typeahead.dropdown-menu {
    overflow: auto;
    max-height: 300px;

    li a {
      display: block;
      overflow: hidden;
    }
  }

  > div.nds-grid .nds-tooltip_container {
    margin-top: 0.75rem;

    .nds-nonfocused_control {
      margin-top: 1.125rem;
      margin-#{$left}: 0.375rem;

      svg {
        background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 14 14"><path id="search" d="M15.92,14.612l-3.912-3.869a5.473,5.473,0,1,0-1.232,1.245l3.883,3.877a.424.424,0,0,0,.613,0l.613-.612A.489.489,0,0,0,15.92,14.612ZM7.541,11.26a3.755,3.755,0,1,1,2.666-1.1,3.764,3.764,0,0,1-2.666,1.1Z" transform="translate(-2.023 -1.997)" fill="#939393" fill-rule="evenodd"/></svg>');
        // fill: $color-input-icon-blue-hue;
        fill: transparent;
      }

      .nds-is-absolute .nds-popover.nds-popover_tooltip.nds-nubbin_bottom {
        #{$left}: calc(-100% - 10px);
        max-width: 30rem;
        white-space: nowrap;
        top: -1.6875rem;

        &:before,
        &:after {
          width: 1rem;
          height: 1rem;
          position: absolute;
          transform: rotate(45deg);
          content: '';
          background-color: inherit;
          #{$left}: 100%;
          bottom: 0;
          margin-#{$left}: -9px;
          top: 25%;
        }
      }
    }
  }

  .nds-form-element__control.nds-form-element__control-animated-label .nds-form-element__label {
    width: calc(100% - 2rem);

    .nds-required {
      top: -6px;
      position: relative;
    }
  }
}
